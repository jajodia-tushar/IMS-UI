<table mat-table [dataSource]="datasource" class="mat-elevation-z8 revisable-table" > 

    <ng-container *ngFor="let column of columnHeader" [cdkColumnDef]="column.columnDef">
    
    <mat-header-cell *cdkHeaderCellDef style="text-align:center; color: white; font-size: initial;">{{ column.header }}
        <div *ngIf="column.columnDef == 'actions'">
        
        </div>
    </mat-header-cell>
    <mat-cell *cdkCellDef="let row" style="text-align:center; color:white">
    
       
           <div *ngIf="column.columnDef == 'itemName'">
            <mat-form-field style="width: 80%;" appearance="outline" class="form-field-size" > 
            <mat-select  (selectionChange)="selectedOption(row,$event)" placeholder= "{{ column.cell(row) }}">
                <mat-option  *ngFor="let item of ItemList" value="item.name">
                    {{item.name}}
                </mat-option>
            </mat-select>  
        </mat-form-field> 
            </div>
           <div *ngIf="column.columnDef == 'Quantity'">
             <form>
               <mat-form-field>
                 <input matInput type="number" min="1" autocomplete="off" [formControl]="rateControl" value="{{ column.cell(row) }}" (keyup)="changequantity(row,$event)" (keydown)="allowOnlyDigits($event)">
                 <mat-error>Please enter a value greater than 0 </mat-error>
               </mat-form-field>
               </form>
            
           </div>
           <div *ngIf="column.columnDef == 'Price'">
            <form >
              <mat-form-field>
                <input matInput type="number" autocomplete="off" min="1" [formControl]="rateControl" value="{{ column.cell(row) }}" (keyup)="changeprice(row,$event)" (keydown)="allowOnlyDigits($event)">
                <mat-error>Please enter a value greater than 0 </mat-error>
              </mat-form-field>
              </form>
            </div>
            

           <div title="delete" *ngIf="column.columnDef === 'actions' ">
    
               <button mat-icon-button class="action-buttons">
                  <mat-icon aria-hidden="false" aria-label="Example home icon" (click)="deletedata(row)">delete</mat-icon>
               </button>
               <ng-container *ngIf="show">
               <button mat-icon-button class="action-buttons">
                  <mat-icon aria-hidden="false" aria-label="Example home icon">edit </mat-icon>
               </button>
           </ng-container>
           </div>  
           
    </mat-cell>   
    <mat-footer-cell *cdkFooterCellDef style="text-align:center; color:white">
      <div *ngIf="column.columnDef == 'actions'">

        <button mat-raised-button class="Add-icon" (click)="AddRow()">
          <mat-icon class="icon">add</mat-icon>Add
        </button>
      </div>
      <div *ngIf="column.columnDef == 'itemName'">

        TOTAL
      </div>

      <div *ngIf="column.columnDef == 'Price'">

        {{getTotalCost() | currency:"â‚¹"}}
      </div>

      <div *ngIf="column.columnDef == 'Quantity'">

        {{getTotalQuantity()}}
      </div>
    </mat-footer-cell>
    
    
    </ng-container>
   
    <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
    <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
    <mat-footer-row *cdkFooterRowDef="displayedColumns"></mat-footer-row>
     </table>
